@model BookingInformation
@{
    ViewData["Title"] = "Index";
}

<center>
    <h1>Book a Room</h1>
    <br /><hr />

    <br />
    <form method="post" asp-action="send2Queue" asp-controller="Booking">
        <label asp-for="BookingCustName">Name:</label>
        <input asp-for="BookingCustName" placeholder="e.g. Kelvin Lim" required />
        <span asp-validation-for="BookingCustName"></span>
        <br /><br />

        <label asp-for="RoomType">Room Type:</label>
        <select asp-for="RoomType" required onchange="changePrice(this)">
            <option value="">-- Select Room Type--</option>
            @foreach (var roomtype in ViewBag.Room)
            {
                <option value="@roomtype.RoomType" data-price="@roomtype.RoomPrice">@roomtype.RoomType</option>
            }
        </select>

        <label asp-for="RoomPrice">Room Price:</label>
            <input asp-for="RoomPrice" id="RoomPrice" class="form-control" placeholder="Price " readonly />
            <span asp-validation-for="RoomPrice"></span>


        <label asp-for="BookingContactEmail">Email:</label>
        <input asp-for="BookingContactEmail" type="email" placeholder="e.g. xxx@gmail.com" required />
        <span asp-validation-for="BookingContactEmail"></span>
        <br /><br />

        <label asp-for="BookingContactNumber">Phone Number:</label>
        <input asp-for="BookingContactNumber" placeholder="Your Contact Number" required />
        <span asp-validation-for="BookingContactNumber"></span>
        <br /><br />

        <label asp-for="CheckInDate">Check-In Date:</label>
        <input asp-for="CheckInDate" type="date" required />
        <span asp-validation-for="CheckInDate"></span>
        <br /><br />

        <label asp-for="CheckOutDate">Check-Out Date:</label>
        <input asp-for="CheckOutDate" type="date" required />
        <span asp-validation-for="CheckOutDate"></span>
        <br /><br />

        <label asp-for="pax">Number of Guest:</label>
        <input asp-for="pax" min="1" max="6" required />
        <span asp-validation-for="pax"></span>
        <br /><br />

        <input type="hidden" name="Status" value="pending">

        <button type="submit" class="btn-dark">Book Now </button>
    </form>
</center>

<script>
    function changePrice(select) {
        // Get the selected option
        var selectedOption = select.options[select.selectedIndex];

        // Update the price field with the price from the selected car wash service
        var priceField = document.getElementById("RoomPrice");
        priceField.value = selectedOption.getAttribute("data-price");
    }

</script>

